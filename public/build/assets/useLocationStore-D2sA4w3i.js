import{E as Q,G as U,p as X,H as Y,I as Z,J as I,K as J,L as $,M as T,N as tt,y as et,O as st,m as nt,P as ot,l as ct}from"./app-B98cum_x.js";/*!
 * pinia v3.0.2
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let K;const k=t=>K=t,rt=Symbol();function w(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var E;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(E||(E={}));const M=()=>{};function H(t,c,n,e=M){t.push(c);const u=()=>{const a=t.indexOf(c);a>-1&&(t.splice(a,1),e())};return!n&&T()&&tt(u),u}function d(t,...c){t.slice().forEach(n=>{n(...c)})}const ut=t=>t(),A=Symbol(),R=Symbol();function L(t,c){t instanceof Map&&c instanceof Map?c.forEach((n,e)=>t.set(e,n)):t instanceof Set&&c instanceof Set&&c.forEach(t.add,t);for(const n in c){if(!c.hasOwnProperty(n))continue;const e=c[n],u=t[n];w(u)&&w(e)&&t.hasOwnProperty(n)&&!I(e)&&!J(e)?t[n]=L(u,e):t[n]=e}return t}const at=Symbol();function ft(t){return!w(t)||!Object.prototype.hasOwnProperty.call(t,at)}const{assign:h}=Object;function lt(t){return!!(I(t)&&t.effect)}function it(t,c,n,e){const{state:u,actions:a,getters:r}=c,_=n.state.value[t];let b;function y(){_||(n.state.value[t]=u?u():{});const S=nt(n.state.value[t]);return h(S,a,Object.keys(r||{}).reduce((v,m)=>(v[m]=ot(ct(()=>{k(n);const j=n._s.get(t);return r[m].call(j,j)})),v),{}))}return b=V(t,y,c,n,e,!0),b}function V(t,c,n={},e,u,a){let r;const _=h({actions:{}},n),b={deep:!0};let y,S,v=[],m=[],j;const C=e.state.value[t];!a&&!C&&(e.state.value[t]={}),X({});let N;function W(o){let s;y=S=!1,typeof o=="function"?(o(e.state.value[t]),s={type:E.patchFunction,storeId:t,events:j}):(L(e.state.value[t],o),s={type:E.patchObject,payload:o,storeId:t,events:j});const f=N=Symbol();st().then(()=>{N===f&&(y=!0)}),S=!0,d(v,s,e.state.value[t])}const D=a?function(){const{state:s}=n,f=s?s():{};this.$patch(O=>{h(O,f)})}:M;function q(){r.stop(),v=[],m=[],e._s.delete(t)}const F=(o,s="")=>{if(A in o)return o[R]=s,o;const f=function(){k(e);const O=Array.from(arguments),P=[],p=[];function B(l){P.push(l)}function G(l){p.push(l)}d(m,{args:O,name:f[R],store:i,after:B,onError:G});let x;try{x=o.apply(this&&this.$id===t?this:i,O)}catch(l){throw d(p,l),l}return x instanceof Promise?x.then(l=>(d(P,l),l)).catch(l=>(d(p,l),Promise.reject(l))):(d(P,x),x)};return f[A]=!0,f[R]=s,f},z={_p:e,$id:t,$onAction:H.bind(null,m),$patch:W,$reset:D,$subscribe(o,s={}){const f=H(v,o,s.detached,()=>O()),O=r.run(()=>et(()=>e.state.value[t],P=>{(s.flush==="sync"?S:y)&&o({storeId:t,type:E.direct,events:j},P)},h({},b,s)));return f},$dispose:q},i=Y(z);e._s.set(t,i);const g=(e._a&&e._a.runWithContext||ut)(()=>e._e.run(()=>(r=Z()).run(()=>c({action:F}))));for(const o in g){const s=g[o];if(I(s)&&!lt(s)||J(s))a||(C&&ft(s)&&(I(s)?s.value=C[o]:L(s,C[o])),e.state.value[t][o]=s);else if(typeof s=="function"){const f=F(s,o);g[o]=f,_.actions[o]=s}}return h(i,g),h($(i),g),Object.defineProperty(i,"$state",{get:()=>e.state.value[t],set:o=>{W(s=>{h(s,o)})}}),e._p.forEach(o=>{h(i,r.run(()=>o({store:i,app:e._a,pinia:e,options:_})))}),C&&a&&n.hydrate&&n.hydrate(i.$state,C),y=!0,S=!0,i}/*! #__NO_SIDE_EFFECTS__ */function ht(t,c,n){let e;const u=typeof c=="function";e=u?n:c;function a(r,_){const b=U();return r=r||(b?Q(rt,null):null),r&&k(r),r=K,r._s.has(t)||(u?V(t,c,e,r):it(t,e,r)),r._s.get(t)}return a.$id=t,a}const St=ht("location",{state:()=>({city:localStorage.getItem("selectedCity")||"Москва"}),actions:{setCity(t){this.city=t,localStorage.setItem("selectedCity",t)}}});export{St as u};
